(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?module.exports=n(require("jquery")):n(jQuery)})(function(n){"use strict";function d(){var n=document.getElementsByTagName("script"),t=n.length?n[n.length-1].src.split("?")[0]:"";return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function tt(n,t,i){for(var r=0;r<t.length;r++)i(n,t[r])}var s=!1,l=!1,b=0,k=2e3,f=0,t=n,v=["webkit","ms","moz","o"],i=window.requestAnimationFrame||!1,r=window.cancelAnimationFrame||!1,y,h,e,o;if(!i)for(y in v)h=v[y],i||(i=window[h+"RequestAnimationFrame"]),r||(r=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]);var u=window.MutationObserver||window.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:d(),preventmultitouchscrolling:!0},a=!1,g=function(){function c(){var u=["-webkit-grab","-moz-grab","grab"],t,r;for((n.ischrome&&!n.ischrome22||n.isie)&&(u=[]),t=0;t<u.length;t++)if(r=u[t],i.cursor=r,i.cursor==r)return r;return"url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}var t,r,o,h;if(a)return a;var f=document.createElement("DIV"),i=f.style,e=navigator.userAgent,s=navigator.platform,n={};for(n.haspointerlock=("pointerLockElement"in document)||("webkitPointerLockElement"in document)||("mozPointerLockElement"in document),n.isopera=("opera"in window),n.isopera12=n.isopera&&("getUserMedia"in navigator),n.isoperamini=Object.prototype.toString.call(window.operamini)==="[object OperaMini]",n.isie=("all"in document)&&("attachEvent"in f)&&!n.isopera,n.isieold=n.isie&&!("msInterpolationMode"in i),n.isie7=n.isie&&!n.isieold&&(!("documentMode"in document)||document.documentMode==7),n.isie8=n.isie&&("documentMode"in document)&&document.documentMode==8,n.isie9=n.isie&&("performance"in window)&&document.documentMode>=9,n.isie10=n.isie&&("performance"in window)&&document.documentMode==10,n.isie11=("msRequestFullscreen"in f)&&document.documentMode>=11,n.isieedge=navigator.userAgent.match(/Edge\/12\./),n.isie9mobile=/iemobile.9/i.test(e),n.isie9mobile&&(n.isie9=!1),n.isie7mobile=!n.isie9mobile&&n.isie7&&/iemobile/i.test(e),n.ismozilla=("MozAppearance"in i),n.iswebkit=("WebkitAppearance"in i),n.ischrome=("chrome"in window),n.ischrome22=n.ischrome&&n.haspointerlock,n.ischrome26=n.ischrome&&("transition"in i),n.cantouch=("ontouchstart"in document.documentElement)||("ontouchstart"in window),n.hasmstouch=window.MSPointerEvent||!1,n.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),n.ismac=/^mac$/i.test(s),n.isios=n.cantouch&&/iphone|ipad|ipod/i.test(s),n.isios4=n.isios&&!("seal"in Object),n.isios7=n.isios&&("webkitHidden"in document),n.isandroid=/android/i.test(e),n.haseventlistener=("addEventListener"in f),n.trstyle=!1,n.hastransform=!1,n.hastranslate3d=!1,n.transitionstyle=!1,n.hastransition=!1,n.transitionend=!1,r=["transform","msTransform","webkitTransform","MozTransform","OTransform"],t=0;t<r.length;t++)if(typeof i[r[t]]!="undefined"){n.trstyle=r[t];break}for(n.hastransform=!!n.trstyle,n.hastransform&&(i[n.trstyle]="translate3d(1px,2px,3px)",n.hastranslate3d=/translate3d/.test(i[n.trstyle])),n.transitionstyle=!1,n.prefixstyle="",n.transitionend=!1,r=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],o=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],h=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],t=0;t<r.length;t++)if(r[t]in i){n.transitionstyle=r[t];n.prefixstyle=o[t];n.transitionend=h[t];break}return n.ischrome26&&(n.prefixstyle=o[1]),n.hastransition=n.transitionstyle,n.cursorgrabvalue=c(),n.hasmousecapture="setCapture"in f,n.hasMutationObserver=u!==!1,f=null,a=n,n},nt=function(n,e){function nt(){var n=o.doc.css(h.trstyle);return n&&n.substr(0,6)=="matrix"?n.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}function ut(){var n=o.win,t;if("zIndex"in n)return n.zIndex();while(n.length>0){if(n[0].nodeType==9)return!1;if(t=n.css("zIndex"),!isNaN(t)&&t!=0)return parseInt(t);n=n.parent()}return!1}function c(n,t,i){var u=n.css(t),r=parseFloat(u),f;return isNaN(r)?(r=tt[u]||0,f=r==3?i?o.win.outerHeight()-o.win.innerHeight():o.win.outerWidth()-o.win.innerWidth():1,o.isie8&&r&&(r+=1),f?r:0):r}function it(n,t,i,r){o._bind(n,t,function(r){var r=r?r:window.event,u={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:r.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return t=="mousewheel"?(u.deltaY=-1/40*r.wheelDelta,r.wheelDeltaX&&(u.deltaX=-1/40*r.wheelDeltaX)):u.deltaY=r.detail,i.call(n,u)},r)}function rt(n,t,i){var r,u,f;if(n.deltaMode==0?(r=-Math.floor(n.deltaX*(o.opt.mousescrollstep/54)),u=-Math.floor(n.deltaY*(o.opt.mousescrollstep/54))):n.deltaMode==1&&(r=-Math.floor(n.deltaX*o.opt.mousescrollstep),u=-Math.floor(n.deltaY*o.opt.mousescrollstep)),t&&o.opt.oneaxismousemode&&r==0&&u&&(r=u,u=0,i&&(f=r<0?o.getScrollLeft()>=o.page.maxw:o.getScrollLeft()<=0,f&&(u=r,r=0))),r&&(o.scrollmom&&o.scrollmom.stop(),o.lastdeltax+=r,o.debounced("mousewheelx",function(){var n=o.lastdeltax;o.lastdeltax=0;o.rail.drag||o.doScrollLeftBy(n)},15)),u){if(o.opt.nativeparentscrolling&&i&&!o.ispage&&!o.zoomactive)if(u<0){if(o.getScrollTop()>=o.page.maxh)return!0}else if(o.getScrollTop()<=0)return!0;o.scrollmom&&o.scrollmom.stop();o.lastdeltay+=u;o.debounced("mousewheely",function(){var n=o.lastdeltay;o.lastdeltay=0;o.rail.drag||o.doScrollBy(n)},15)}return n.stopImmediatePropagation(),n.preventDefault()}var o=this,v,h,y,a,d,tt;if(this.version="3.6.6",this.name="nicescroll",this.me=e,this.opt={doc:t("body"),win:!1},t.extend(this.opt,p),this.opt.snapbackspeed=80,n||!1)for(v in o.opt)typeof n[v]!="undefined"&&(o.opt[v]=n[v]);this.doc=o.opt.doc;this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(o.opt.win?o.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=o.opt.win!==!1;this.win=o.opt.win||(this.ispage?t(window):this.doc);this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win;this.body=t("body");this.viewport=!1;this.isfixed=!1;this.iframe=!1;this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME";this.istextarea=this.win[0].nodeName=="TEXTAREA";this.forcescreen=!1;this.canshowonmouseevent=o.opt.autohidemode!="scroll";this.onmousedown=!1;this.onmouseup=!1;this.onmousemove=!1;this.onmousewheel=!1;this.onkeypress=!1;this.ongesturezoom=!1;this.onclick=!1;this.onscrollstart=!1;this.onscrollend=!1;this.onscrollcancel=!1;this.onzoomin=!1;this.onzoomout=!1;this.view=!1;this.page=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.isrtlmode=this.opt.rtlmode=="auto"?(this.win[0]==window?this.body:this.win).css("direction")=="rtl":this.opt.rtlmode===!0;this.scrollrunning=!1;this.scrollmom=!1;this.observer=!1;this.observerremover=!1;this.observerbody=!1;do this.id="ascrail"+k++;while(document.getElementById(this.id));this.rail=!1;this.cursor=!1;this.cursorfreezed=!1;this.selectiondrag=!1;this.zoom=!1;this.zoomactive=!1;this.hasfocus=!1;this.hasmousefocus=!1;this.visibility=!0;this.railslocked=!1;this.locked=!1;this.hidden=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=o.opt.overflowx;this.overflowy=o.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltax=0;this.lastdeltay=0;this.detected=g();h=t.extend({},this.detected);this.canhwscroll=h.hastransform&&o.opt.hwacceleration;this.ishwscroll=this.canhwscroll&&o.haswrapper;this.hasreversehr=this.isrtlmode&&!h.iswebkit;this.istouchcapable=!1;h.cantouch&&!h.isios&&!h.isandroid&&(h.iswebkit||h.ismozilla)&&(this.istouchcapable=!0,h.cantouch=!1);o.opt.enablemouselockapi||(h.hasmousecapture=!1,h.haspointerlock=!1);this.debounced=function(n,t,i){var r=o.delaylist[n];o.delaylist[n]=t;r||(o.debouncedelayed=setTimeout(function(){if(o){var t=o.delaylist[n];o.delaylist[n]=!1;t.call(o)}},i))};y=!1;this.synched=function(n,t){function r(){y||(i(function(){var n,t;y=!1;for(n in o.synclist)t=o.synclist[n],t&&t.call(o),o.synclist[n]=!1}),y=!0)}return o.synclist[n]=t,r(),n};this.unsynched=function(n){o.synclist[n]&&(o.synclist[n]=!1)};this.css=function(n,t){for(var i in t)o.saved.css.push([n,i,n.css(i)]),n.css(i,t[i])};this.scrollTop=function(n){return typeof n=="undefined"?o.getScrollTop():o.setScrollTop(n)};this.scrollLeft=function(n){return typeof n=="undefined"?o.getScrollLeft():o.setScrollLeft(n)};a=function(n,t,i,r,u,f,e){this.st=n;this.ed=t;this.spd=i;this.p1=r||0;this.p2=u||1;this.p3=f||0;this.p4=e||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};a.prototype={B2:function(n){return 3*n*n*(1-n)},B3:function(n){return 3*n*(1-n)*(1-n)},B4:function(n){return(1-n)*(1-n)*(1-n)},getNow:function(){var t=(new Date).getTime(),n=1-(t-this.ts)/this.spd,i=this.B2(n)+this.B3(n)+this.B4(n);return n<0?this.ed:this.st+Math.round(this.df*i)},update:function(n,t){return this.st=this.getNow(),this.ed=n,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}};this.ishwscroll?(this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},h.hastranslate3d&&h.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(n){if(!n){var t=nt();if(t)return t.length==16?-t[13]:-t[5];if(o.timerscroll&&o.timerscroll.bz)return o.timerscroll.bz.getNow()}return o.doc.translate.y},this.getScrollLeft=function(n){if(!n){var t=nt();if(t)return t.length==16?-t[12]:-t[4];if(o.timerscroll&&o.timerscroll.bh)return o.timerscroll.bh.getNow()}return o.doc.translate.x},this.notifyScrollEvent=function(n){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1);t.niceevent=!0;n.dispatchEvent(t)},d=this.isrtlmode?1:-1,h.hastranslate3d&&o.opt.enabletranslate3d?(this.setScrollTop=function(n,t){o.doc.translate.y=n;o.doc.translate.ty=n*-1+"px";o.doc.css(h.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)");t||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(n,t){o.doc.translate.x=n;o.doc.translate.tx=n*d+"px";o.doc.css(h.trstyle,"translate3d("+o.doc.translate.tx+","+o.doc.translate.ty+",0px)");t||o.notifyScrollEvent(o.win[0])}):(this.setScrollTop=function(n,t){o.doc.translate.y=n;o.doc.translate.ty=n*-1+"px";o.doc.css(h.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")");t||o.notifyScrollEvent(o.win[0])},this.setScrollLeft=function(n,t){o.doc.translate.x=n;o.doc.translate.tx=n*d+"px";o.doc.css(h.trstyle,"translate("+o.doc.translate.tx+","+o.doc.translate.ty+")");t||o.notifyScrollEvent(o.win[0])})):(this.getScrollTop=function(){return o.docscroll.scrollTop()},this.setScrollTop=function(n){return setTimeout(function(){o.docscroll.scrollTop(n)},1)},this.getScrollLeft=function(){return o.detected.ismozilla&&o.isrtlmode?Math.abs(o.docscroll.scrollLeft()):o.docscroll.scrollLeft()},this.setScrollLeft=function(n){return setTimeout(function(){o.docscroll.scrollLeft(o.detected.ismozilla&&o.isrtlmode?-n:n)},1)});this.getTarget=function(n){return n?n.target?n.target:n.srcElement?n.srcElement:!1:!1};this.hasParent=function(n,t){if(!n)return!1;for(var i=n.target||n.srcElement||n||!1;i&&i.id!=t;)i=i.parentNode||!1;return i!==!1};tt={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}};this.getOffset=function(){var n,i,t,r;return o.isfixed?(n=o.win.offset(),i=o.getDocumentScrollOffset(),n.top-=i.top,n.left-=i.left,n):(t=o.win.offset(),!o.viewport)?t:(r=o.viewport.offset(),{top:t.top-r.top,left:t.left-r.left})};this.updateScrollBar=function(n){var r,t,i,u,f;o.ishwscroll?(o.rail.css({height:o.win.innerHeight()-(o.opt.railpadding.top+o.opt.railpadding.bottom)}),o.railh&&o.railh.css({width:o.win.innerWidth()-(o.opt.railpadding.left+o.opt.railpadding.right)})):(r=o.getOffset(),t={top:r.top,left:r.left-(o.opt.railpadding.left+o.opt.railpadding.right)},t.top+=c(o.win,"border-top-width",!0),t.left+=o.rail.align?o.win.outerWidth()-c(o.win,"border-right-width")-o.rail.width:c(o.win,"border-left-width"),i=o.opt.railoffset,i&&(i.top&&(t.top+=i.top),i.left&&(t.left+=i.left)),o.railslocked||o.rail.css({top:t.top,left:t.left,height:(n?n.h:o.win.innerHeight())-(o.opt.railpadding.top+o.opt.railpadding.bottom)}),o.zoom&&o.zoom.css({top:t.top+1,left:o.rail.align==1?t.left-20:t.left+o.rail.width+4}),o.railh&&!o.railslocked&&(t={top:r.top,left:r.left},i=o.opt.railhoffset,!i||(!i.top||(t.top+=i.top),!i.left||(t.left+=i.left)),u=o.railh.align?t.top+c(o.win,"border-top-width",!0)+o.win.innerHeight()-o.railh.height:t.top+c(o.win,"border-top-width",!0),f=t.left+c(o.win,"border-left-width"),o.railh.css({top:u-(o.opt.railpadding.top+o.opt.railpadding.bottom),left:f,width:o.railh.width})))};this.doRailClick=function(n,t,i){var r,f,u,e;o.railslocked||(o.cancelEvent(n),t?(r=i?o.doScrollLeft:o.doScrollTop,u=i?(n.pageX-o.railh.offset().left-o.cursorwidth/2)*o.scrollratio.x:(n.pageY-o.rail.offset().top-o.cursorheight/2)*o.scrollratio.y,r(u)):(r=i?o.doScrollLeftBy:o.doScrollBy,u=i?o.scroll.x:o.scroll.y,e=i?n.pageX-o.railh.offset().left:n.pageY-o.rail.offset().top,f=i?o.view.w:o.view.h,r(u>=e?f:-f)))};o.hasanimationframe=i;o.hascancelanimationframe=r;o.hasanimationframe?o.hascancelanimationframe||(r=function(){o.cancelAnimationFrame=!0}):(i=function(n){return setTimeout(n,15-Math.floor(+new Date/1e3)%16)},r=clearInterval);this.init=function(){var a,n,p,v,k,it,e,i,r,c,y,d,g,rt,nt,ft,et,tt;if((o.saved.css=[],h.isie7mobile)||h.isoperamini)return!0;if(h.hasmstouch&&o.css(o.ispage?t("html"):o.win,{"-ms-touch-action":"none"}),o.zindex="auto",o.zindex=o.ispage||o.opt.zindex!="auto"?o.opt.zindex:ut()||"auto",o.ispage||o.zindex=="auto"||o.zindex>f&&(f=o.zindex),o.isie&&o.zindex==0&&o.opt.zindex=="auto"&&(o.zindex="auto"),!o.ispage||!h.cantouch&&!h.isieold&&!h.isie9mobile){a=o.docscroll;o.ispage&&(a=o.haswrapper?o.win:o.doc);h.isie9mobile||o.css(a,{"overflow-y":"hidden"});o.ispage&&h.isie7&&(o.doc[0].nodeName=="BODY"?o.css(t("html"),{"overflow-y":"hidden"}):o.doc[0].nodeName=="HTML"&&o.css(t("body"),{"overflow-y":"hidden"}));!h.isios||o.ispage||o.haswrapper||o.css(t("body"),{"-webkit-overflow-scrolling":"touch"});r=t(document.createElement("div"));r.css({position:"relative",top:0,float:"right",width:o.opt.cursorwidth,height:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius});r.hborder=parseFloat(r.outerHeight()-r.innerHeight());r.addClass("nicescroll-cursors");o.cursor=r;n=t(document.createElement("div"));n.attr("id",o.id);n.addClass("nicescroll-rails nicescroll-rails-vr");k=["left","right","top","bottom"];for(it in k)v=k[it],p=o.opt.railpadding[v],p?n.css("padding-"+v,p+"px"):o.opt.railpadding[v]=0;n.append(r);n.width=Math.max(parseFloat(o.opt.cursorwidth),r.outerWidth());n.css({width:n.width+"px",zIndex:o.zindex,background:o.opt.background,cursor:"default"});n.visibility=!0;n.scrollable=!0;n.align=o.opt.railalign=="left"?0:1;o.rail=n;o.rail.drag=!1;e=!1;!o.opt.boxzoom||o.ispage||h.isieold||(e=document.createElement("div"),o.bind(e,"click",o.doZoom),o.bind(e,"mouseenter",function(){o.zoom.css("opacity",o.opt.cursoropacitymax)}),o.bind(e,"mouseleave",function(){o.zoom.css("opacity",o.opt.cursoropacitymin)}),o.zoom=t(e),o.zoom.css({cursor:"pointer","z-index":o.zindex,backgroundImage:"url("+o.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),o.opt.dblclickzoom&&o.bind(o.win,"dblclick",o.doZoom),h.cantouch&&o.opt.gesturezoom&&(o.ongesturezoom=function(n){return n.scale>1.5&&o.doZoomIn(n),n.scale<.8&&o.doZoomOut(n),o.cancelEvent(n)},o.bind(o.win,"gestureend",o.ongesturezoom)));o.railh=!1;o.opt.horizrailenabled&&(o.css(a,{"overflow-x":"hidden"}),r=t(document.createElement("div")),r.css({position:"absolute",top:0,height:o.opt.cursorwidth,width:"0px","background-color":o.opt.cursorcolor,border:o.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":o.opt.cursorborderradius,"-moz-border-radius":o.opt.cursorborderradius,"border-radius":o.opt.cursorborderradius}),h.isieold&&r.css({overflow:"hidden"}),r.wborder=parseFloat(r.outerWidth()-r.innerWidth()),r.addClass("nicescroll-cursors"),o.cursorh=r,i=t(document.createElement("div")),i.attr("id",o.id+"-hr"),i.addClass("nicescroll-rails nicescroll-rails-hr"),i.height=Math.max(parseFloat(o.opt.cursorwidth),r.outerHeight()),i.css({height:i.height+"px",zIndex:o.zindex,background:o.opt.background}),i.append(r),i.visibility=!0,i.scrollable=!0,i.align=o.opt.railvalign=="top"?0:1,o.railh=i,o.railh.drag=!1);o.ispage?(n.css({position:"fixed",top:"0px",height:"100%"}),n.align?n.css({right:"0px"}):n.css({left:"0px"}),o.body.append(n),o.railh&&(i.css({position:"fixed",left:"0px",width:"100%"}),i.align?i.css({bottom:"0px"}):i.css({top:"0px"}),o.body.append(i))):(o.ishwscroll?(o.win.css("position")=="static"&&o.css(o.win,{position:"relative"}),c=o.win[0].nodeName=="HTML"?o.body:o.win,t(c).scrollTop(0).scrollLeft(0),o.zoom&&(o.zoom.css({position:"absolute",top:1,right:0,"margin-right":n.width+4}),c.append(o.zoom)),n.css({position:"absolute",top:0}),n.align?n.css({right:0}):n.css({left:0}),c.append(n),i&&(i.css({position:"absolute",left:0,bottom:0}),i.align?i.css({bottom:0}):i.css({top:0}),c.append(i))):(o.isfixed=o.win.css("position")=="fixed",y=o.isfixed?"fixed":"absolute",o.isfixed||(o.viewport=o.getViewport(o.win[0])),o.viewport&&(o.body=o.viewport,/fixed|absolute/.test(o.viewport.css("position"))==!1&&o.css(o.viewport,{position:"relative"})),n.css({position:y}),o.zoom&&o.zoom.css({position:y}),o.updateScrollBar(),o.body.append(n),o.zoom&&o.body.append(o.zoom),o.railh&&(i.css({position:y}),o.body.append(i))),h.isios&&o.css(o.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),h.isie&&o.opt.disableoutline&&o.win.attr("hideFocus","true"),h.iswebkit&&o.opt.disableoutline&&o.win.css({outline:"none"}));o.opt.autohidemode===!1?(o.autohidedom=!1,o.rail.css({opacity:o.opt.cursoropacitymax}),o.railh&&o.railh.css({opacity:o.opt.cursoropacitymax})):o.opt.autohidemode===!0||o.opt.autohidemode==="leave"?(o.autohidedom=t().add(o.rail),h.isie8&&(o.autohidedom=o.autohidedom.add(o.cursor)),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh)),o.railh&&h.isie8&&(o.autohidedom=o.autohidedom.add(o.cursorh))):o.opt.autohidemode=="scroll"?(o.autohidedom=t().add(o.rail),o.railh&&(o.autohidedom=o.autohidedom.add(o.railh))):o.opt.autohidemode=="cursor"?(o.autohidedom=t().add(o.cursor),o.railh&&(o.autohidedom=o.autohidedom.add(o.cursorh))):o.opt.autohidemode=="hidden"&&(o.autohidedom=!1,o.hide(),o.railslocked=!1);h.isie9mobile?(o.scrollmom=new w(o),o.onmangotouch=function(){var n=o.getScrollTop(),t=o.getScrollLeft(),s;if(n==o.scrollmom.lastscrolly&&t==o.scrollmom.lastscrollx)return!0;var i=n-o.mangotouch.sy,r=t-o.mangotouch.sx,h=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));if(h!=0){var f=i<0?-1:1,e=r<0?-1:1,u=+new Date;o.mangotouch.lazy&&clearTimeout(o.mangotouch.lazy);u-o.mangotouch.tm>80||o.mangotouch.dry!=f||o.mangotouch.drx!=e?(o.scrollmom.stop(),o.scrollmom.reset(t,n),o.mangotouch.sy=n,o.mangotouch.ly=n,o.mangotouch.sx=t,o.mangotouch.lx=t,o.mangotouch.dry=f,o.mangotouch.drx=e,o.mangotouch.tm=u):(o.scrollmom.stop(),o.scrollmom.update(o.mangotouch.sx-r,o.mangotouch.sy-i),o.mangotouch.tm=u,s=Math.max(Math.abs(o.mangotouch.ly-n),Math.abs(o.mangotouch.lx-t)),o.mangotouch.ly=n,o.mangotouch.lx=t,s>2&&(o.mangotouch.lazy=setTimeout(function(){o.mangotouch.lazy=!1;o.mangotouch.dry=0;o.mangotouch.drx=0;o.mangotouch.tm=0;o.scrollmom.doMomentum(30)},100)))}},d=o.getScrollTop(),g=o.getScrollLeft(),o.mangotouch={sy:d,ly:d,dry:0,sx:g,lx:g,drx:0,lazy:!1,tm:0},o.bind(o.docscroll,"scroll",o.onmangotouch)):((h.cantouch||o.istouchcapable||o.opt.touchbehavior||h.hasmstouch)&&(o.scrollmom=new w(o),o.ontouchstart=function(n){var i,r,e,u,f,l;if(n.pointerType&&n.pointerType!=2&&n.pointerType!="touch")return!1;if(o.hasmoving=!1,!o.railslocked){if(h.hasmstouch)for(i=n.target?n.target:!1;i;){if(r=t(i).getNiceScroll(),r.length>0&&r[0].me==o.me)break;if(r.length>0)return!1;if(i.nodeName=="DIV"&&i.id==o.id)break;i=i.parentNode?i.parentNode:!1}if(o.cancelScroll(),i=o.getTarget(n),i&&(e=/INPUT/i.test(i.nodeName)&&/range/i.test(i.type),e))return o.stopPropagation(n);if(!("clientX"in n)&&"changedTouches"in n&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY),o.forcescreen&&(u=n,n={original:n.original?n.original:n},n.clientX=u.screenX,n.clientY=u.screenY),o.rail.drag={x:n.clientX,y:n.clientY,sx:o.scroll.x,sy:o.scroll.y,st:o.getScrollTop(),sl:o.getScrollLeft(),pt:2,dl:!1},o.ispage||!o.opt.directionlockdeadzone)o.rail.drag.dl="f";else{var s={w:t(window).width(),h:t(window).height()},c={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},a=Math.max(0,c.h-s.h),v=Math.max(0,c.w-s.w);o.rail.drag.ck=!o.rail.scrollable&&o.railh.scrollable?a>0?"v":!1:o.rail.scrollable&&!o.railh.scrollable?v>0?"h":!1:!1;o.rail.drag.ck||(o.rail.drag.dl="f")}if(o.opt.touchbehavior&&o.isiframe&&h.isie&&(f=o.win.position(),o.rail.drag.x+=f.left,o.rail.drag.y+=f.top),o.hasmoving=!1,o.lastmouseup=!1,o.scrollmom.reset(n.clientX,n.clientY),!h.cantouch&&!this.istouchcapable&&!n.pointerType){if(l=i?/INPUT|SELECT|TEXTAREA/i.test(i.nodeName):!1,!l)return(!o.ispage&&h.hasmousecapture&&i.setCapture(),o.opt.touchbehavior)?(!i.onclick||i._onclick||!1||(i._onclick=i.onclick,i.onclick=function(n){if(o.hasmoving)return!1;i._onclick.call(this,n)}),o.cancelEvent(n)):o.stopPropagation(n);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},o.preventclick=pc)}}},o.ontouchend=function(n){if(!o.rail.drag)return!0;if(o.rail.drag.pt==2){if(n.pointerType&&n.pointerType!=2&&n.pointerType!="touch")return!1;if(o.scrollmom.doMomentum(),o.rail.drag=!1,o.hasmoving&&(o.lastmouseup=!0,o.hideCursor(),h.hasmousecapture&&document.releaseCapture(),!h.cantouch))return o.cancelEvent(n)}else if(o.rail.drag.pt==1)return o.onmouseup(n)},rt=o.opt.touchbehavior&&o.isiframe&&!h.hasmousecapture,o.ontouchmove=function(n,i){var k,v,y,p,w,u,s;if(!o.rail.drag||n.targetTouches&&o.opt.preventmultitouchscrolling&&n.targetTouches.length>1||n.pointerType&&n.pointerType!=2&&n.pointerType!="touch")return!1;if(o.rail.drag.pt==2){if(h.cantouch&&h.isios&&typeof n.original=="undefined")return!0;o.hasmoving=!0;o.preventclick&&!o.preventclick.click&&(o.preventclick.click=o.preventclick.tg.onclick||!1,o.preventclick.tg.onclick=o.onpreventclick);k=t.extend({original:n},n);n=k;"changedTouches"in n&&(n.clientX=n.changedTouches[0].clientX,n.clientY=n.changedTouches[0].clientY);o.forcescreen&&(v=n,n={original:n.original?n.original:n},n.clientX=v.screenX,n.clientY=v.screenY);p=y=0;rt&&!i&&(w=o.win.position(),p=-w.left,y=-w.top);var f=n.clientY+y,d=f-o.rail.drag.y,e=n.clientX+p,b=e-o.rail.drag.x,r=o.rail.drag.st-d;if(o.ishwscroll&&o.opt.bouncescroll?r<0?r=Math.round(r/2):r>o.page.maxh&&(r=o.page.maxh+Math.round((r-o.page.maxh)/2)):(r<0&&(r=0,f=0),r>o.page.maxh&&(r=o.page.maxh,f=0)),o.railh&&o.railh.scrollable&&(u=o.isrtlmode?b-o.rail.drag.sl:o.rail.drag.sl-b,o.ishwscroll&&o.opt.bouncescroll?u<0?u=Math.round(u/2):u>o.page.maxw&&(u=o.page.maxw+Math.round((u-o.page.maxw)/2)):(u<0&&(u=0,e=0),u>o.page.maxw&&(u=o.page.maxw,e=0))),s=!1,o.rail.drag.dl)s=!0,o.rail.drag.dl=="v"?u=o.rail.drag.sl:o.rail.drag.dl=="h"&&(r=o.rail.drag.st);else{var c=Math.abs(d),l=Math.abs(b),a=o.opt.directionlockdeadzone;if(o.rail.drag.ck=="v"){if(c>a&&l<=c*.3)return o.rail.drag=!1,!0;l>a&&(o.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if(o.rail.drag.ck=="h"){if(l>a&&c<=l*.3)return o.rail.drag=!1,!0;c>a&&(o.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(o.synched("touchmove",function(){o.rail.drag&&o.rail.drag.pt==2&&(o.prepareTransition&&o.prepareTransition(0),o.rail.scrollable&&o.setScrollTop(r),o.scrollmom.update(e,f),o.railh&&o.railh.scrollable?(o.setScrollLeft(u),o.showCursor(r,u)):o.showCursor(r),h.isie10&&document.selection.clear())}),h.ischrome&&o.istouchcapable&&(s=!1),s)return o.cancelEvent(n)}else if(o.rail.drag.pt==1)return o.onmousemove(n)}),o.onmousedown=function(n,t){if(!o.rail.drag||o.rail.drag.pt==1){if(o.railslocked)return o.cancelEvent(n);o.cancelScroll();o.rail.drag={x:n.clientX,y:n.clientY,sx:o.scroll.x,sy:o.scroll.y,pt:1,hr:!!t};var i=o.getTarget(n);return!o.ispage&&h.hasmousecapture&&i.setCapture(),o.isiframe&&!h.hasmousecapture&&(o.saved.csspointerevents=o.doc.css("pointer-events"),o.css(o.doc,{"pointer-events":"none"})),o.hasmoving=!1,o.cancelEvent(n)}},o.onmouseup=function(n){if(o.rail.drag)return o.rail.drag.pt!=1?!0:(h.hasmousecapture&&document.releaseCapture(),o.isiframe&&!h.hasmousecapture&&o.doc.css("pointer-events",o.saved.csspointerevents),o.rail.drag=!1,o.hasmoving&&o.triggerScrollEnd(),o.cancelEvent(n))},o.onmousemove=function(n){var t,i;if(o.rail.drag)return o.rail.drag.pt!=1?void 0:h.ischrome&&n.which==0?o.onmouseup(n):(o.cursorfreezed=!0,o.hasmoving=!0,o.rail.drag.hr?(o.scroll.x=o.rail.drag.sx+(n.clientX-o.rail.drag.x),o.scroll.x<0&&(o.scroll.x=0),t=o.scrollvaluemaxw,o.scroll.x>t&&(o.scroll.x=t)):(o.scroll.y=o.rail.drag.sy+(n.clientY-o.rail.drag.y),o.scroll.y<0&&(o.scroll.y=0),i=o.scrollvaluemax,o.scroll.y>i&&(o.scroll.y=i)),o.synched("mousemove",function(){o.rail.drag&&o.rail.drag.pt==1&&(o.showCursor(),o.rail.drag.hr?o.hasreversehr?o.doScrollLeft(o.scrollvaluemaxw-Math.round(o.scroll.x*o.scrollratio.x),o.opt.cursordragspeed):o.doScrollLeft(Math.round(o.scroll.x*o.scrollratio.x),o.opt.cursordragspeed):o.doScrollTop(Math.round(o.scroll.y*o.scrollratio.y),o.opt.cursordragspeed))}),o.cancelEvent(n));o.checkarea=0},h.cantouch||o.opt.touchbehavior?(o.onpreventclick=function(n){if(o.preventclick)return o.preventclick.tg.onclick=o.preventclick.click,o.preventclick=!1,o.cancelEvent(n)},o.bind(o.win,"mousedown",o.ontouchstart),o.onclick=h.isios?!1:function(n){return o.lastmouseup?(o.lastmouseup=!1,o.cancelEvent(n)):!0},o.opt.grabcursorenabled&&h.cursorgrabvalue&&(o.css(o.ispage?o.doc:o.win,{cursor:h.cursorgrabvalue}),o.css(o.rail,{cursor:h.cursorgrabvalue}))):(nt=function(n){var i,t,r;o.selectiondrag&&(n&&(i=o.win.outerHeight(),t=n.pageY-o.selectiondrag.top,t>0&&t<i&&(t=0),t>=i&&(t-=i),o.selectiondrag.df=t),o.selectiondrag.df!=0)&&(r=-Math.floor(o.selectiondrag.df/6)*2,o.doScrollBy(r),o.debounced("doselectionscroll",function(){nt()},50))},o.hasTextSelected="getSelection"in document?function(){return document.getSelection().rangeCount>0}:"selection"in document?function(){return document.selection.type!="None"}:function(){return!1},o.onselectionstart=function(){o.ispage||(o.selectiondrag=o.win.offset())},o.onselectionend=function(){o.selectiondrag=!1},o.onselectiondrag=function(n){o.selectiondrag&&o.hasTextSelected()&&o.debounced("selectionscroll",function(){nt(n)},250)}),h.hasw3ctouch?(o.css(o.rail,{"touch-action":"none"}),o.css(o.cursor,{"touch-action":"none"}),o.bind(o.win,"pointerdown",o.ontouchstart),o.bind(document,"pointerup",o.ontouchend),o.bind(document,"pointermove",o.ontouchmove)):h.hasmstouch?(o.css(o.rail,{"-ms-touch-action":"none"}),o.css(o.cursor,{"-ms-touch-action":"none"}),o.bind(o.win,"MSPointerDown",o.ontouchstart),o.bind(document,"MSPointerUp",o.ontouchend),o.bind(document,"MSPointerMove",o.ontouchmove),o.bind(o.cursor,"MSGestureHold",function(n){n.preventDefault()}),o.bind(o.cursor,"contextmenu",function(n){n.preventDefault()})):this.istouchcapable&&(o.bind(o.win,"touchstart",o.ontouchstart),o.bind(document,"touchend",o.ontouchend),o.bind(document,"touchcancel",o.ontouchend),o.bind(document,"touchmove",o.ontouchmove)),!o.opt.cursordragontouch&&(h.cantouch||o.opt.touchbehavior)||(o.rail.css({cursor:"default"}),o.railh&&o.railh.css({cursor:"default"}),o.jqbind(o.rail,"mouseenter",function(){if(!o.ispage&&!o.win.is(":visible"))return!1;o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.rail,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}),o.opt.sensitiverail&&(o.bind(o.rail,"click",function(n){o.doRailClick(n,!1,!1)}),o.bind(o.rail,"dblclick",function(n){o.doRailClick(n,!0,!1)}),o.bind(o.cursor,"click",function(n){o.cancelEvent(n)}),o.bind(o.cursor,"dblclick",function(n){o.cancelEvent(n)})),o.railh&&(o.jqbind(o.railh,"mouseenter",function(){if(!o.ispage&&!o.win.is(":visible"))return!1;o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.railh,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}),o.opt.sensitiverail&&(o.bind(o.railh,"click",function(n){o.doRailClick(n,!1,!0)}),o.bind(o.railh,"dblclick",function(n){o.doRailClick(n,!0,!0)}),o.bind(o.cursorh,"click",function(n){o.cancelEvent(n)}),o.bind(o.cursorh,"dblclick",function(n){o.cancelEvent(n)})))),h.cantouch||o.opt.touchbehavior?(o.bind(h.hasmousecapture?o.win:document,"mouseup",o.ontouchend),o.bind(document,"mousemove",o.ontouchmove),o.onclick&&o.bind(document,"click",o.onclick),o.opt.cursordragontouch&&(o.bind(o.cursor,"mousedown",o.onmousedown),o.bind(o.cursor,"mouseup",o.onmouseup),o.cursorh&&o.bind(o.cursorh,"mousedown",function(n){o.onmousedown(n,!0)}),o.cursorh&&o.bind(o.cursorh,"mouseup",o.onmouseup))):(o.bind(h.hasmousecapture?o.win:document,"mouseup",o.onmouseup),o.bind(document,"mousemove",o.onmousemove),o.onclick&&o.bind(document,"click",o.onclick),o.bind(o.cursor,"mousedown",o.onmousedown),o.bind(o.cursor,"mouseup",o.onmouseup),o.railh&&(o.bind(o.cursorh,"mousedown",function(n){o.onmousedown(n,!0)}),o.bind(o.cursorh,"mouseup",o.onmouseup)),!o.ispage&&o.opt.enablescrollonselection&&(o.bind(o.win[0],"mousedown",o.onselectionstart),o.bind(document,"mouseup",o.onselectionend),o.bind(o.cursor,"mouseup",o.onselectionend),o.cursorh&&o.bind(o.cursorh,"mouseup",o.onselectionend),o.bind(document,"mousemove",o.onselectiondrag)),o.zoom&&(o.jqbind(o.zoom,"mouseenter",function(){o.canshowonmouseevent&&o.showCursor();o.rail.active=!0}),o.jqbind(o.zoom,"mouseleave",function(){o.rail.active=!1;o.rail.drag||o.hideCursor()}))),o.opt.enablemousewheel&&(o.isiframe||o.bind(h.isie&&o.ispage?document:o.win,"mousewheel",o.onmousewheel),o.bind(o.rail,"mousewheel",o.onmousewheel),o.railh&&o.bind(o.railh,"mousewheel",o.onmousewheelhr)),o.ispage||h.cantouch||/HTML|^BODY/.test(o.win[0].nodeName)||(o.win.attr("tabindex")||o.win.attr({tabindex:b++}),o.jqbind(o.win,"focus",function(n){s=o.getTarget(n).id||!0;o.hasfocus=!0;o.canshowonmouseevent&&o.noticeCursor()}),o.jqbind(o.win,"blur",function(){s=!1;o.hasfocus=!1}),o.jqbind(o.win,"mouseenter",function(n){l=o.getTarget(n).id||!0;o.hasmousefocus=!0;o.canshowonmouseevent&&o.noticeCursor()}),o.jqbind(o.win,"mouseleave",function(){l=!1;o.hasmousefocus=!1;o.rail.drag||o.hideCursor()})));o.onkeypress=function(n){var r,e,f;if(o.railslocked&&o.page.maxh==0||(n=n?n:window.e,r=o.getTarget(n),r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)&&(e=r.getAttribute("type")||r.type||!1,!e||!/submit|button|cancel/i.tp))||t(r).attr("contenteditable"))return!0;if(o.hasfocus||o.hasmousefocus&&!s||o.ispage&&!s&&!l){if(f=n.keyCode,o.railslocked&&f!=27)return o.cancelEvent(n);var u=n.ctrlKey||!1,h=n.shiftKey||!1,i=!1;switch(f){case 38:case 63233:o.doScrollBy(72);i=!0;break;case 40:case 63235:o.doScrollBy(-72);i=!0;break;case 37:case 63232:o.railh&&(u?o.doScrollLeft(0):o.doScrollLeftBy(72),i=!0);break;case 39:case 63234:o.railh&&(u?o.doScrollLeft(o.page.maxw):o.doScrollLeftBy(-72),i=!0);break;case 33:case 63276:o.doScrollBy(o.view.h);i=!0;break;case 34:case 63277:o.doScrollBy(-o.view.h);i=!0;break;case 36:case 63273:o.railh&&u?o.doScrollPos(0,0):o.doScrollTo(0);i=!0;break;case 35:case 63275:o.railh&&u?o.doScrollPos(o.page.maxw,o.page.maxh):o.doScrollTo(o.page.maxh);i=!0;break;case 32:o.opt.spacebarenabled&&(h?o.doScrollBy(o.view.h):o.doScrollBy(-o.view.h),i=!0);break;case 27:o.zoomactive&&(o.doZoom(),i=!0)}if(i)return o.cancelEvent(n)}};o.opt.enablekeyboard&&o.bind(document,h.isopera&&!h.isopera12?"keypress":"keydown",o.onkeypress);o.bind(document,"keydown",function(n){var t=n.ctrlKey||!1;t&&(o.wheelprevented=!0)});o.bind(document,"keyup",function(n){var t=n.ctrlKey||!1;t||(o.wheelprevented=!1)});o.bind(window,"blur",function(){o.wheelprevented=!1});o.bind(window,"resize",o.lazyResize);o.bind(window,"orientationchange",o.lazyResize);o.bind(window,"load",o.lazyResize);!h.ischrome||o.ispage||o.haswrapper||(ft=o.win.attr("style"),et=parseFloat(o.win.css("width"))+1,o.win.css("width",et),o.synched("chromefix",function(){o.win.attr("style",ft)}));o.onAttributeChange=function(){o.lazyResize(o.isieold?250:30)};u!==!1&&(o.observerbody=new u(function(n){return n.forEach(function(n){if(n.type=="attributes")return t("body").hasClass("modal-open")&&!t.contains(t(".modal-dialog")[0],o.doc[0])?o.hide():o.show()}),document.body.scrollHeight!=o.page.maxh?o.lazyResize(30):void 0}),o.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]}));o.ispage||o.haswrapper||(u!==!1?(o.observer=new u(function(n){n.forEach(o.onAttributeChange)}),o.observer.observe(o.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),o.observerremover=new u(function(n){n.forEach(function(n){if(n.removedNodes.length>0)for(var t in n.removedNodes)if(!!o&&n.removedNodes[t]==o.win[0])return o.remove()})}),o.observerremover.observe(o.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(o.bind(o.win,h.isie&&!h.isie9?"propertychange":"DOMAttrModified",o.onAttributeChange),h.isie9&&o.win[0].attachEvent("onpropertychange",o.onAttributeChange),o.bind(o.win,"DOMNodeRemoved",function(n){n.target==o.win[0]&&o.remove()})));!o.ispage&&o.opt.boxzoom&&o.bind(window,"resize",o.resizeZoom);o.istextarea&&(o.bind(o.win,"keydown",o.lazyResize),o.bind(o.win,"mouseup",o.lazyResize));o.lazyResize(30)}this.doc[0].nodeName=="IFRAME"&&(tt=function(){var n,r,i;o.iframexd=!1;try{n="contentDocument"in this?this.contentDocument:this.contentWindow.document;r=n.domain}catch(u){o.iframexd=!0;n=!1}if(o.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;o.forcescreen=!0;o.isiframe&&(o.iframe={doc:t(n),html:o.doc.contents().find("html")[0],body:o.doc.contents().find("body")[0]},o.getContentSize=function(){return{w:Math.max(o.iframe.html.scrollWidth,o.iframe.body.scrollWidth),h:Math.max(o.iframe.html.scrollHeight,o.iframe.body.scrollHeight)}},o.docscroll=t(o.iframe.body));h.isios||!o.opt.iframeautoresize||o.isiframe||(o.win.scrollTop(0),o.doc.height(""),i=Math.max(n.getElementsByTagName("html")[0].scrollHeight,n.body.scrollHeight),o.doc.height(i));o.lazyResize(30);h.isie7&&o.css(t(o.iframe.html),{"overflow-y":"hidden"});o.css(t(o.iframe.body),{"overflow-y":"hidden"});h.isios&&o.haswrapper&&o.css(t(n.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?o.bind(this.contentWindow,"scroll",o.onscroll):o.bind(n,"scroll",o.onscroll);o.opt.enablemousewheel&&o.bind(n,"mousewheel",o.onmousewheel);o.opt.enablekeyboard&&o.bind(n,h.isopera?"keypress":"keydown",o.onkeypress);(h.cantouch||o.opt.touchbehavior)&&(o.bind(n,"mousedown",o.ontouchstart),o.bind(n,"mousemove",function(n){return o.ontouchmove(n,!0)}),o.opt.grabcursorenabled&&h.cursorgrabvalue&&o.css(t(n.body),{cursor:h.cursorgrabvalue}));o.bind(n,"mouseup",o.ontouchend);o.zoom&&(o.opt.dblclickzoom&&o.bind(n,"dblclick",o.doZoom),o.ongesturezoom&&o.bind(n,"gestureend",o.ongesturezoom))},this.doc[0].readyState&&this.doc[0].readyState=="complete"&&setTimeout(function(){tt.call(o.doc[0],!1)},500),o.bind(this.doc,"load",tt))};this.showCursor=function(n,t){if(o.cursortimeout&&(clearTimeout(o.cursortimeout),o.cursortimeout=0),o.rail){if(o.autohidedom&&(o.autohidedom.stop().css({opacity:o.opt.cursoropacitymax}),o.cursoractive=!0),o.rail.drag&&o.rail.drag.pt==1||(typeof n!="undefined"&&n!==!1&&(o.scroll.y=Math.round(n*1/o.scrollratio.y)),typeof t!="undefined"&&(o.scroll.x=Math.round(t*1/o.scrollratio.x))),o.cursor.css({height:o.cursorheight,top:o.scroll.y}),o.cursorh){var i=o.hasreversehr?o.scrollvaluemaxw-o.scroll.x:o.scroll.x;!o.rail.align&&o.rail.visibility?o.cursorh.css({width:o.cursorwidth,left:i+o.rail.width}):o.cursorh.css({width:o.cursorwidth,left:i});o.cursoractive=!0}o.zoom&&o.zoom.stop().css({opacity:o.opt.cursoropacitymax})}};this.hideCursor=function(n){o.cursortimeout||o.rail&&o.autohidedom&&(o.hasmousefocus&&o.opt.autohidemode=="leave"||(o.cursortimeout=setTimeout(function(){o.rail.active&&o.showonmouseevent||(o.autohidedom.stop().animate({opacity:o.opt.cursoropacitymin}),o.zoom&&o.zoom.stop().animate({opacity:o.opt.cursoropacitymin}),o.cursoractive=!1);o.cursortimeout=0},n||o.opt.hidecursordelay)))};this.noticeCursor=function(n,t,i){o.showCursor(t,i);o.rail.active||o.hideCursor(n)};this.getContentSize=o.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:o.haswrapper?function(){return{w:o.doc.outerWidth()+parseInt(o.win.css("paddingLeft"))+parseInt(o.win.css("paddingRight")),h:o.doc.outerHeight()+parseInt(o.win.css("paddingTop"))+parseInt(o.win.css("paddingBottom"))}}:function(){return{w:o.docscroll[0].scrollWidth,h:o.docscroll[0].scrollHeight}};this.onResize=function(n,t){var i,r,f;if(!o||!o.win)return!1;if(!o.haswrapper&&!o.ispage){if(o.win.css("display")=="none")return o.visibility&&o.hideRail().hideRailHr(),!1;o.hidden||o.visibility||o.showRail().showRailHr()}var e=o.page.maxh,s=o.page.maxw,u={h:o.view.h,w:o.view.w};if(o.view={w:o.ispage?o.win.width():parseInt(o.win[0].clientWidth),h:o.ispage?o.win.height():parseInt(o.win[0].clientHeight)},o.page=t?t:o.getContentSize(),o.page.maxh=Math.max(0,o.page.h-o.view.h),o.page.maxw=Math.max(0,o.page.w-o.view.w),o.page.maxh==e&&o.page.maxw==s&&o.view.w==u.w&&o.view.h==u.h){if(o.ispage||(i=o.win.offset(),o.lastposition&&(r=o.lastposition,r.top==i.top&&r.left==i.left)))return o;o.lastposition=i}return(o.page.maxh==0?(o.hideRail(),o.scrollvaluemax=0,o.scroll.y=0,o.scrollratio.y=0,o.cursorheight=0,o.setScrollTop(0),o.rail&&(o.rail.scrollable=!1)):(o.page.maxh-=o.opt.railpadding.top+o.opt.railpadding.bottom,o.rail.scrollable=!0),o.page.maxw==0?(o.hideRailHr(),o.scrollvaluemaxw=0,o.scroll.x=0,o.scrollratio.x=0,o.cursorwidth=0,o.setScrollLeft(0),o.railh&&(o.railh.scrollable=!1)):(o.page.maxw-=o.opt.railpadding.left+o.opt.railpadding.right,o.railh&&(o.railh.scrollable=o.opt.horizrailenabled)),o.railslocked=o.locked||o.page.maxh==0&&o.page.maxw==0,o.railslocked)?(o.ispage||o.updateScrollBar(o.view),!1):(o.hidden||o.visibility?!o.railh||o.hidden||o.railh.visibility||o.showRailHr():o.showRail().showRailHr(),o.istextarea&&o.win.css("resize")&&o.win.css("resize")!="none"&&(o.view.h-=20),o.cursorheight=Math.min(o.view.h,Math.round(o.view.h*(o.view.h/o.page.h))),o.cursorheight=o.opt.cursorfixedheight?o.opt.cursorfixedheight:Math.max(o.opt.cursorminheight,o.cursorheight),o.cursorwidth=Math.min(o.view.w,Math.round(o.view.w*(o.view.w/o.page.w))),o.cursorwidth=o.opt.cursorfixedheight?o.opt.cursorfixedheight:Math.max(o.opt.cursorminheight,o.cursorwidth),o.scrollvaluemax=o.view.h-o.cursorheight-o.cursor.hborder-(o.opt.railpadding.top+o.opt.railpadding.bottom),o.railh&&(o.railh.width=o.page.maxh>0?o.view.w-o.rail.width:o.view.w,o.scrollvaluemaxw=o.railh.width-o.cursorwidth-o.cursorh.wborder-(o.opt.railpadding.left+o.opt.railpadding.right)),o.ispage||o.updateScrollBar(o.view),o.scrollratio={x:o.page.maxw/o.scrollvaluemaxw,y:o.page.maxh/o.scrollvaluemax},f=o.getScrollTop(),f>o.page.maxh?o.doScrollTop(o.page.maxh):(o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x)),o.cursoractive&&o.noticeCursor()),o.scroll.y&&o.getScrollTop()==0&&o.doScrollTo(Math.floor(o.scroll.y*o.scrollratio.y)),o)};this.resize=o.onResize;this.lazyResize=function(n){return n=isNaN(n)?30:n,o.debounced("resize",o.resize,n),o};this.jqbind=function(n,i,r){o.events.push({e:n,n:i,f:r,q:!0});t(n).bind(i,r)};this.bind=function(n,t,i,r){var u="jquery"in n?n[0]:n,f,e;t=="mousewheel"?"onwheel"in o.win?o._bind(u,"wheel",i,r||!1):(f=typeof document.onmousewheel!="undefined"?"mousewheel":"DOMMouseScroll",it(u,f,i,r||!1),f=="DOMMouseScroll"&&it(u,"MozMousePixelScroll",i,r||!1)):u.addEventListener?(h.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&(e=t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove",o._bind(u,e,function(n){var t;n.touches?n.touches.length<2&&(t=n.touches.length?n.touches[0]:n,t.original=n,i.call(this,t)):n.changedTouches&&(t=n.changedTouches[0],t.original=n,i.call(this,t))},r||!1)),o._bind(u,t,i,r||!1),h.cantouch&&t=="mouseup"&&o._bind(u,"touchcancel",i,r||!1)):o._bind(u,t,function(n){return n=n||window.event||!1,n&&n.srcElement&&(n.target=n.srcElement),"pageY"in n||(n.pageX=n.clientX+document.documentElement.scrollLeft,n.pageY=n.clientY+document.documentElement.scrollTop),i.call(u,n)===!1||r===!1?o.cancelEvent(n):!0})};h.haseventlistener?(this._bind=function(n,t,i,r){o.events.push({e:n,n:t,f:i,b:r,q:!1});n.addEventListener(t,i,r||!1)},this.cancelEvent=function(n){if(!n)return!1;var n=n.original?n.original:n;return n.preventDefault(),n.stopPropagation(),n.preventManipulation&&n.preventManipulation(),!1},this.stopPropagation=function(n){if(!n)return!1;var n=n.original?n.original:n;return n.stopPropagation(),!1},this._unbind=function(n,t,i,r){n.removeEventListener(t,i,r)}):(this._bind=function(n,t,i,r){o.events.push({e:n,n:t,f:i,b:r,q:!1});n.attachEvent?n.attachEvent("on"+t,i):n["on"+t]=i},this.cancelEvent=function(n){var n=window.event||!1;return n?(n.cancelBubble=!0,n.cancel=!0,n.returnValue=!1,!1):!1},this.stopPropagation=function(n){var n=window.event||!1;return n?(n.cancelBubble=!0,!1):!1},this._unbind=function(n,t,i){n.detachEvent?n.detachEvent("on"+t,i):n["on"+t]=!1});this.unbindAll=function(){for(var n,t=0;t<o.events.length;t++)n=o.events[t],n.q?n.e.unbind(n.n,n.f):o._unbind(n.e,n.n,n.f,n.b)};this.showRail=function(){return o.page.maxh!=0&&(o.ispage||o.win.css("display")!="none")&&(o.visibility=!0,o.rail.visibility=!0,o.rail.css("display","block")),o};this.showRailHr=function(){return o.railh?(o.page.maxw!=0&&(o.ispage||o.win.css("display")!="none")&&(o.railh.visibility=!0,o.railh.css("display","block")),o):o};this.hideRail=function(){return o.visibility=!1,o.rail.visibility=!1,o.rail.css("display","none"),o};this.hideRailHr=function(){return o.railh?(o.railh.visibility=!1,o.railh.css("display","none"),o):o};this.show=function(){return o.hidden=!1,o.railslocked=!1,o.showRail().showRailHr()};this.hide=function(){return o.hidden=!0,o.railslocked=!0,o.hideRail().hideRailHr()};this.toggle=function(){return o.hidden?o.show():o.hide()};this.remove=function(){var r,i,n,u;for(o.stop(),o.cursortimeout&&clearTimeout(o.cursortimeout),o.debouncedelayed&&clearTimeout(o.debouncedelayed),o.doZoomOut(),o.unbindAll(),h.isie9&&o.win[0].detachEvent("onpropertychange",o.onAttributeChange),o.observer!==!1&&o.observer.disconnect(),o.observerremover!==!1&&o.observerremover.disconnect(),o.observerbody!==!1&&o.observerbody.disconnect(),o.events=null,o.cursor&&o.cursor.remove(),o.cursorh&&o.cursorh.remove(),o.rail&&o.rail.remove(),o.railh&&o.railh.remove(),o.zoom&&o.zoom.remove(),r=0;r<o.saved.css.length;r++)i=o.saved.css[r],i[0].css(i[1],typeof i[2]=="undefined"?"":i[2]);o.saved=!1;o.me.data("__nicescroll","");n=t.nicescroll;n.each(function(t){if(this&&this.id===o.id){delete n[t];for(var i=++t;i<n.length;i++,t++)n[t]=n[i];n.length--;n.length&&delete n[n.length]}});for(u in o)o[u]=null,delete o[u];o=null};this.scrollstart=function(n){return this.onscrollstart=n,o};this.scrollend=function(n){return this.onscrollend=n,o};this.scrollcancel=function(n){return this.onscrollcancel=n,o};this.zoomin=function(n){return this.onzoomin=n,o};this.zoomout=function(n){return this.onzoomout=n,o};this.isScrollable=function(n){var i=n.target?n.target:n,r,u;if(i.nodeName=="OPTION")return!0;while(i&&i.nodeType==1&&!/^BODY|HTML/.test(i.nodeName)){if(r=t(i),u=r.css("overflowY")||r.css("overflowX")||r.css("overflow")||"",/scroll|auto/.test(u))return i.clientHeight!=i.scrollHeight;i=i.parentNode?i.parentNode:!1}return!1};this.getViewport=function(n){for(var i=n&&n.parentNode?n.parentNode:!1,r,u;i&&i.nodeType==1&&!/^BODY|HTML/.test(i.nodeName);){if((r=t(i),/fixed|absolute/.test(r.css("position")))||(u=r.css("overflowY")||r.css("overflowX")||r.css("overflow")||"",/scroll|auto/.test(u)&&i.clientHeight!=i.scrollHeight)||r.getNiceScroll().length>0)return r;i=i.parentNode?i.parentNode:!1}return!1};this.triggerScrollEnd=function(){if(o.onscrollend){var n=o.getScrollLeft(),t=o.getScrollTop(),i={type:"scrollend",current:{x:n,y:t},end:{x:n,y:t}};o.onscrollend.call(o,i)}};this.onmousewheel=function(n){var t,i,r;if(!o.wheelprevented)return o.railslocked?(o.debounced("checkunlock",o.resize,250),!0):o.rail.drag?o.cancelEvent(n):(o.opt.oneaxismousemode=="auto"&&n.deltaX!=0&&(o.opt.oneaxismousemode=!1),o.opt.oneaxismousemode&&n.deltaX==0&&!o.rail.scrollable)?o.railh&&o.railh.scrollable?o.onmousewheelhr(n):!0:(t=+new Date,i=!1,o.opt.preservenativescrolling&&o.checkarea+600<t&&(o.nativescrollingarea=o.isScrollable(n),i=!0),o.checkarea=t,o.nativescrollingarea)?!0:(r=rt(n,!1,i),r&&(o.checkarea=0),r)};this.onmousewheelhr=function(n){if(!o.wheelprevented){if(o.railslocked||!o.railh.scrollable)return!0;if(o.rail.drag)return o.cancelEvent(n);var t=+new Date,i=!1;return(o.opt.preservenativescrolling&&o.checkarea+600<t&&(o.nativescrollingarea=o.isScrollable(n),i=!0),o.checkarea=t,o.nativescrollingarea)?!0:o.railslocked?o.cancelEvent(n):rt(n,!0,i)}};this.stop=function(){return o.cancelScroll(),o.scrollmon&&o.scrollmon.stop(),o.cursorfreezed=!1,o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y)),o.noticeCursor(),o};this.getTransitionSpeed=function(n){var i=Math.round(o.opt.scrollspeed*10),t=Math.min(i,Math.round(n/20*o.opt.scrollspeed));return t>20?t:0};o.opt.smoothscroll?o.ishwscroll&&h.hastransition&&o.opt.usetransition&&!!o.opt.smoothscroll?(this.prepareTransition=function(n,t){var i=t?n>20?n:0:o.getTransitionSpeed(n),r=i?h.prefixstyle+"transform "+i+"ms ease-out":"";return o.lasttransitionstyle&&o.lasttransitionstyle==r||(o.lasttransitionstyle=r,o.doc.css(h.transitionstyle,r)),i},this.doScrollLeft=function(n,t){var i=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,t,i){var r=o.getScrollTop(),u=o.getScrollLeft();if((((o.newscrolly-r)*(t-r)<0||(o.newscrollx-u)*(n-u)<0)&&o.cancelScroll(),o.opt.bouncescroll==!1&&(t<0?t=0:t>o.page.maxh&&(t=o.page.maxh),n<0?n=0:n>o.page.maxw&&(n=o.page.maxw)),o.scrollrunning&&n==o.newscrollx&&t==o.newscrolly)||(o.newscrolly=t,o.newscrollx=n,o.newscrollspeed=i||!1,o.timer))return!1;o.timer=setTimeout(function(){var u=o.getScrollTop(),f=o.getScrollLeft(),r={},e,i,s,c,l;r.x=n-f;r.y=t-u;r.px=f;r.py=u;e=Math.round(Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y,2)));i=o.newscrollspeed&&o.newscrollspeed>1?o.newscrollspeed:o.getTransitionSpeed(e);o.newscrollspeed&&o.newscrollspeed<=1&&(i*=o.newscrollspeed);o.prepareTransition(i,!0);o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm);i>0&&(!o.scrollrunning&&o.onscrollstart&&(s={type:"scrollstart",current:{x:f,y:u},request:{x:n,y:t},end:{x:o.newscrollx,y:o.newscrolly},speed:i},o.onscrollstart.call(o,s)),h.transitionend?o.scrollendtrapped||(o.scrollendtrapped=!0,o.bind(o.doc,h.transitionend,o.onScrollTransitionEnd,!1)):(o.scrollendtrapped&&clearTimeout(o.scrollendtrapped),o.scrollendtrapped=setTimeout(o.onScrollTransitionEnd,i)),c=u,l=f,o.timerscroll={bz:new a(c,o.newscrolly,i,0,0,.58,1),bh:new a(l,o.newscrollx,i,0,0,.58,1)},o.cursorfreezed||(o.timerscroll.tm=setInterval(function(){o.showCursor(o.getScrollTop(),o.getScrollLeft())},60)));o.synched("doScroll-set",function(){o.timer=0;o.scrollendtrapped&&(o.scrollrunning=!0);o.setScrollTop(o.newscrolly);o.setScrollLeft(o.newscrollx);o.scrollendtrapped||o.onScrollTransitionEnd()})},50)},this.cancelScroll=function(){if(!o.scrollendtrapped)return!0;var n=o.getScrollTop(),t=o.getScrollLeft();return o.scrollrunning=!1,h.transitionend||clearTimeout(h.transitionend),o.scrollendtrapped=!1,o._unbind(o.doc[0],h.transitionend,o.onScrollTransitionEnd),o.prepareTransition(0),o.setScrollTop(n),o.railh&&o.setScrollLeft(t),o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm),o.timerscroll=!1,o.cursorfreezed=!1,o.showCursor(n,t),o},this.onScrollTransitionEnd=function(){o.scrollendtrapped&&o._unbind(o.doc[0],h.transitionend,o.onScrollTransitionEnd);o.scrollendtrapped=!1;o.prepareTransition(0);o.timerscroll&&o.timerscroll.tm&&clearInterval(o.timerscroll.tm);o.timerscroll=!1;var n=o.getScrollTop(),t=o.getScrollLeft();if(o.setScrollTop(n),o.railh&&o.setScrollLeft(t),o.noticeCursor(!1,n,t),o.cursorfreezed=!1,n<0?n=0:n>o.page.maxh&&(n=o.page.maxh),t<0?t=0:t>o.page.maxw&&(t=o.page.maxw),n!=o.newscrolly||t!=o.newscrollx)return o.doScrollPos(t,n,o.opt.snapbackspeed);o.onscrollend&&o.scrollrunning&&o.triggerScrollEnd();o.scrollrunning=!1}):(this.doScrollLeft=function(n,t){var i=o.scrollrunning?o.newscrolly:o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.scrollrunning?o.newscrollx:o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,t,u){function y(){var r,f,e,n,t,u;if(o.cancelAnimationFrame)return!0;if(o.scrollrunning=!0,v=1-v,v)return o.timer=i(y)||1;r=0;n=e=o.getScrollTop();o.dst.ay?(n=o.bzscroll?o.dst.py+o.bzscroll.getNow()*o.dst.ay:o.newscrolly,u=n-e,(u<0&&n<o.newscrolly||u>0&&n>o.newscrolly)&&(n=o.newscrolly),o.setScrollTop(n),n==o.newscrolly&&(r=1)):r=1;t=f=o.getScrollLeft();o.dst.ax?(t=o.bzscroll?o.dst.px+o.bzscroll.getNow()*o.dst.ax:o.newscrollx,u=t-f,(u<0&&t<o.newscrollx||u>0&&t>o.newscrollx)&&(t=o.newscrollx),o.setScrollLeft(t),t==o.newscrollx&&(r+=1)):r+=1;r==2?(o.timer=0,o.cursorfreezed=!1,o.bzscroll=!1,o.scrollrunning=!1,n<0?n=0:n>o.page.maxh&&(n=o.page.maxh),t<0?t=0:t>o.page.maxw&&(t=o.page.maxw),t!=o.newscrollx||n!=o.newscrolly?o.doScrollPos(t,n):o.onscrollend&&o.triggerScrollEnd()):o.timer=i(y)||1}var t=typeof t=="undefined"||t===!1?o.getScrollTop(!0):t,f,e,h,l,c,s,v,p;if(o.timer&&o.newscrolly==t&&o.newscrollx==n)return!0;(o.timer&&r(o.timer),o.timer=0,f=o.getScrollTop(),e=o.getScrollLeft(),((o.newscrolly-f)*(t-f)<0||(o.newscrollx-e)*(n-e)<0)&&o.cancelScroll(),o.newscrolly=t,o.newscrollx=n,o.bouncescroll&&o.rail.visibility||(o.newscrolly<0?o.newscrolly=0:o.newscrolly>o.page.maxh&&(o.newscrolly=o.page.maxh)),o.bouncescroll&&o.railh.visibility||(o.newscrollx<0?o.newscrollx=0:o.newscrollx>o.page.maxw&&(o.newscrollx=o.page.maxw)),o.dst={},o.dst.x=n-e,o.dst.y=t-f,o.dst.px=e,o.dst.py=f,h=Math.round(Math.sqrt(Math.pow(o.dst.x,2)+Math.pow(o.dst.y,2))),o.dst.ax=o.dst.x/h,o.dst.ay=o.dst.y/h,l=0,c=h,o.dst.x==0?(l=f,c=t,o.dst.ay=1,o.dst.py=0):o.dst.y==0&&(l=e,c=n,o.dst.ax=1,o.dst.px=0),s=o.getTransitionSpeed(h),u&&u<=1&&(s*=u),o.bzscroll=s>0?o.bzscroll?o.bzscroll.update(c,s):new a(l,c,s,0,1,0,1):!1,o.timer)||((f==o.page.maxh&&t>=o.page.maxh||e==o.page.maxw&&n>=o.page.maxw)&&o.checkContentSize(),v=1,o.cancelAnimationFrame=!1,o.timer=1,o.onscrollstart&&!o.scrollrunning&&(p={type:"scrollstart",current:{x:e,y:f},request:{x:n,y:t},end:{x:o.newscrollx,y:o.newscrolly},speed:s},o.onscrollstart.call(o,p)),y(),(f==o.page.maxh&&t>=f||e==o.page.maxw&&n>=e)&&o.checkContentSize(),o.noticeCursor())},this.cancelScroll=function(){return o.timer&&r(o.timer),o.timer=0,o.bzscroll=!1,o.scrollrunning=!1,o}):(this.doScrollLeft=function(n,t){var i=o.getScrollTop();o.doScrollPos(n,i,t)},this.doScrollTop=function(n,t){var i=o.getScrollLeft();o.doScrollPos(i,n,t)},this.doScrollPos=function(n,t){var r=n>o.page.maxw?o.page.maxw:n,i;r<0&&(r=0);i=t>o.page.maxh?o.page.maxh:t;i<0&&(i=0);o.synched("scroll",function(){o.setScrollTop(i);o.setScrollLeft(r)})},this.cancelScroll=function(){});this.doScrollBy=function(n,t){var i=0,f,r,u;if(t?i=Math.floor((o.scroll.y-n)*o.scrollratio.y):(f=o.timer?o.newscrolly:o.getScrollTop(!0),i=f-n),o.bouncescroll&&(r=Math.round(o.view.h/2),i<-r?i=-r:i>o.page.maxh+r&&(i=o.page.maxh+r)),o.cursorfreezed=!1,u=o.getScrollTop(!0),i<0&&u<=0)return o.noticeCursor();if(i>o.page.maxh&&u>=o.page.maxh)return o.checkContentSize(),o.noticeCursor();o.doScrollTop(i)};this.doScrollLeftBy=function(n,t){var i=0,f,r,u;if((t?i=Math.floor((o.scroll.x-n)*o.scrollratio.x):(f=o.timer?o.newscrollx:o.getScrollLeft(!0),i=f-n),o.bouncescroll&&(r=Math.round(o.view.w/2),i<-r?i=-r:i>o.page.maxw+r&&(i=o.page.maxw+r)),o.cursorfreezed=!1,u=o.getScrollLeft(!0),i<0&&u<=0)||i>o.page.maxw&&u>=o.page.maxw)return o.noticeCursor();o.doScrollLeft(i)};this.doScrollTo=function(n,t){var i=t?Math.round(n*o.scrollratio.y):n;i<0?i=0:i>o.page.maxh&&(i=o.page.maxh);o.cursorfreezed=!1;o.doScrollTop(n)};this.checkContentSize=function(){var n=o.getContentSize();(n.h!=o.page.h||n.w!=o.page.w)&&o.resize(!1,n)};o.onscroll=function(){o.rail.drag||o.cursorfreezed||o.synched("scroll",function(){o.scroll.y=Math.round(o.getScrollTop()*(1/o.scrollratio.y));o.railh&&(o.scroll.x=Math.round(o.getScrollLeft()*(1/o.scrollratio.x)));o.noticeCursor()})};o.bind(o.docscroll,"scroll",o.onscroll);this.doZoomIn=function(n){var r,u,s,i,e;if(!o.zoomactive){o.zoomactive=!0;o.zoomrestore={style:{}};r=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"];u=o.win[0].style;for(s in r)i=r[s],o.zoomrestore.style[i]=typeof u[i]!="undefined"?u[i]:"";return o.zoomrestore.style.width=o.win.css("width"),o.zoomrestore.style.height=o.win.css("height"),o.zoomrestore.padding={w:o.win.outerWidth()-o.win.width(),h:o.win.outerHeight()-o.win.height()},h.isios4&&(o.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),o.win.css({position:h.isios4?"absolute":"fixed",top:0,left:0,"z-index":f+100,margin:"0px"}),e=o.win.css("backgroundColor"),(e==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(e))&&o.win.css("backgroundColor","#fff"),o.rail.css({"z-index":f+101}),o.zoom.css({"z-index":f+102}),o.zoom.css("backgroundPosition","0px -18px"),o.resizeZoom(),o.onzoomin&&o.onzoomin.call(o),o.cancelEvent(n)}};this.doZoomOut=function(n){if(o.zoomactive)return o.zoomactive=!1,o.win.css("margin",""),o.win.css(o.zoomrestore.style),h.isios4&&t(window).scrollTop(o.zoomrestore.scrollTop),o.rail.css({"z-index":o.zindex}),o.zoom.css({"z-index":o.zindex}),o.zoomrestore=!1,o.zoom.css("backgroundPosition","0px 0px"),o.onResize(),o.onzoomout&&o.onzoomout.call(o),o.cancelEvent(n)};this.doZoom=function(n){return o.zoomactive?o.doZoomOut(n):o.doZoomIn(n)};this.resizeZoom=function(){if(o.zoomactive){var n=o.getScrollTop();o.win.css({width:t(window).width()-o.zoomrestore.padding.w+"px",height:t(window).height()-o.zoomrestore.padding.h+"px"});o.onResize();o.setScrollTop(Math.min(o.page.maxh,n))}};this.init();t.nicescroll.push(this)},w=function(n){var t=this;this.nc=n;this.lastx=0;this.lasty=0;this.speedx=0;this.speedy=0;this.lasttime=0;this.steptime=0;this.snapx=!1;this.snapy=!1;this.demulx=0;this.demuly=0;this.lastscrollx=-1;this.lastscrolly=-1;this.chkx=0;this.chky=0;this.timer=0;this.time=function(){return+new Date};this.reset=function(n,i){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=n;t.lasty=i;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(n,i){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var u=i-t.lasty,f=n-t.lastx,s=t.nc.getScrollTop(),h=t.nc.getScrollLeft(),e=s+u,o=h+f;t.snapx=o<0||o>t.nc.page.maxw;t.snapy=e<0||e>t.nc.page.maxh;t.speedx=f;t.speedy=u;t.lastx=n;t.lasty=i};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(n,i){var r=!1;i<0?(i=0,r=!0):i>t.nc.page.maxh&&(i=t.nc.page.maxh,r=!0);n<0?(n=0,r=!0):n>t.nc.page.maxw&&(n=t.nc.page.maxw,r=!0);r?t.nc.doScrollPos(n,i,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()};this.doMomentum=function(n){var e=t.time(),c=n?e+n:t.lasttime,l=t.nc.getScrollLeft(),a=t.nc.getScrollTop(),o=t.nc.page.maxh,s=t.nc.page.maxw,f,v,y,u,h;if(t.speedx=s>0?Math.min(60,t.speedx):0,t.speedy=o>0?Math.min(60,t.speedy):0,f=c&&e-c<=60,(a<0||a>o||l<0||l>s)&&(f=!1),v=t.speedy&&f?t.speedy:!1,y=t.speedx&&f?t.speedx:!1,v||y){u=Math.max(16,t.steptime);u>50&&(h=u/50,t.speedx*=h,t.speedy*=h,u=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var i=t.lastscrollx,r=t.lastscrolly,p=function(){var n=t.time()-e>600?.04:.02;t.speedx&&(i=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=i,(i<0||i>s)&&(n=.1));t.speedy&&(r=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=r,(r<0||r>o)&&(n=.1));t.demulxy=Math.min(1,t.demulxy+n);t.nc.synched("domomentum2d",function(){var n,u;t.speedx&&(n=t.nc.getScrollLeft(),n!=t.chkx&&t.stop(),t.chkx=i,t.nc.setScrollLeft(i));t.speedy&&(u=t.nc.getScrollTop(),u!=t.chky&&t.stop(),t.chky=r,t.nc.setScrollTop(r));t.timer||(t.nc.hideCursor(),t.doSnapy(i,r))});t.demulxy<1?t.timer=setTimeout(p,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(i,r))};p()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},c=n.fn.scrollTop;n.cssHooks.pageYOffset={get:function(n){var i=t.data(n,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollTop():c.call(n)},set:function(n,i){var r=t.data(n,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(i)):c.call(n,i),this}};n.fn.scrollTop=function(n){if(typeof n=="undefined"){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollTop():c.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(n)):c.call(t(this),n)})};e=n.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(n){var i=t.data(n,"__nicescroll")||!1;return i&&i.ishwscroll?i.getScrollLeft():e.call(n)},set:function(n,i){var r=t.data(n,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(i)):e.call(n,i),this}};n.fn.scrollLeft=function(n){if(typeof n=="undefined"){var i=this[0]?t.data(this[0],"__nicescroll")||!1:!1;return i&&i.ishwscroll?i.getScrollLeft():e.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(n)):e.call(t(this),n)})};o=function(n){var i=this,r,u;if(this.length=0,this.name="nicescrollarray",this.each=function(n){for(var t=0,r=0;t<i.length;t++)n.call(i[t],r++);return i},this.push=function(n){i[i.length]=n;i.length++},this.eq=function(n){return i[n]},n)for(r=0;r<n.length;r++)u=t.data(n[r],"__nicescroll")||!1,u&&(this[this.length]=u,this.length++);return this};tt(o.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(n,t){n[t]=function(){var n=arguments;return this.each(function(){this[t].apply(this,n)})}});n.fn.getNiceScroll=function(n){return typeof n=="undefined"?new o(this):this[n]&&t.data(this[n],"__nicescroll")||!1};n.extend(n.expr[":"],{nicescroll:function(n){return t.data(n,"__nicescroll")?!0:!1}});t.fn.niceScroll=function(n,i){var r,u;return typeof i=="undefined"&&(typeof n!="object"||"jquery"in n||(i=n,n=!1)),i=t.extend({},i),r=new o,typeof i=="undefined"&&(i={}),(n||!1)&&(i.doc=t(n),i.win=t(this)),u=!("doc"in i),u||"win"in i||(i.win=t(this)),this.each(function(){var n=t(this).data("__nicescroll")||!1;n||(i.doc=u?t(this):i.doc,n=new nt(i,t(this)),t(this).data("__nicescroll",n));r.push(n)}),r.length==1?r[0]:r};window.NiceScroll={getjQuery:function(){return n}};t.nicescroll||(t.nicescroll=new o,t.nicescroll.options=p)});$(function(){return $.miniNotification=function(n,t){var e,u,o,r,f,s,i=this;return this.defaults={position:"top",show:!0,effect:"slide",opacity:.95,time:4e3,showSpeed:600,hideSpeed:450,showEasing:"",hideEasing:"",innerDivClass:"inner",closeButton:!1,closeButtonText:"close",closeButtonClass:"close",hideOnClick:!0,onLoad:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){}},f="",this.settings={},this.$element=$(n),r=function(n){return f=n},u=function(){var n,t;return t=i.getSetting("effect")==="slide"?0-i.$element.outerHeight():0,n={},i.getSetting("position")==="bottom"?n.bottom=t:n.top=t,i.getSetting("effect")==="fade"&&(n.opacity=0),n},o=function(){var n;return n={opacity:i.getSetting("opacity")},i.getSetting("position")==="bottom"?n.bottom=0:n.top=0,n},s=function(){return i.$elementInner=$("<div />",{"class":i.getSetting("innerDivClass")}),i.$element.wrapInner(i.$elementInner)},e=function(){var n;return n=$("<a />",{"class":i.getSetting("closeButtonClass"),html:i.getSetting("closeButtonText")}),i.$element.children().append(n),n.bind("click",function(){return i.hide()})},this.getState=function(){return f},this.getSetting=function(n){return this.settings[n]},this.callSettingFunction=function(t){return this.settings[t](n)},this.init=function(){var n=this;return r("hidden"),this.settings=$.extend({},this.defaults,t),this.$element.length&&(s(),this.getSetting("closeButton")&&e(),this.$element.css(u()).css({display:"inline"}),this.getSetting("show")&&this.show(),this.getSetting("hideOnClick"))?this.$element.bind("click",function(){if(n.getState()!=="hiding")return n.hide()}):void 0},this.show=function(){var n=this;if(this.getState()!=="showing"&&this.getState()!=="visible")return r("showing"),this.callSettingFunction("onLoad"),this.$element.animate(o(),this.getSetting("showSpeed"),this.getSetting("showEasing"),function(){return r("visible"),n.callSettingFunction("onVisible"),setTimeout(function(){return n.hide()},n.settings.time)})},this.hide=function(){var n=this;if(this.getState()!=="hiding"&&this.getState()!=="hidden")return r("hiding"),this.callSettingFunction("onHide"),this.$element.animate(u(),this.getSetting("hideSpeed"),this.getSetting("hideEasing"),function(){return r("hidden"),n.callSettingFunction("onHidden")})},this.init(),this},$.fn.miniNotification=function(n){return this.each(function(){var t;return t=$(this).data("miniNotification"),t===void 0?(t=new $.miniNotification(this,n),$(this).data("miniNotification",t)):t.show()})}});
//# sourceMappingURL=Libraries.min.js.map
